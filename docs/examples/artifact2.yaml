tosca_definitions_version: tosca_simple_unfurl_1_0_0
topology_template:
  node_templates:
    my_node:
      type: MyNode
      properties:
        prop1: foo
        prop2: 1
      metadata:
        module: docs.examples.artifact2
artifact_types:
  MyArtifact:
    derived_from: unfurl.artifacts.ShellExecutable
    properties:
      outputsTemplate:
        type: any
        required: false
        default: '{{ stdout | from_json }}'
    interfaces:
      Executable:
        type: unfurl.interfaces.Executable
        operations:
          execute:
            metadata:
              output_match:
              - Outputs
            inputs:
              arg1:
                type: string
              arg2:
                type: integer
            outputs:
              output1:
                type: string
              output2:
                type: integer
node_types:
  MyNode:
    derived_from: tosca.nodes.Root
    properties:
      prop1:
        type: string
      prop2:
        type: integer
    interfaces:
      Standard:
        operations:
          configure:
            metadata:
              output_match:
              - Outputs
              arguments:
              - arg1
              - arg2
            inputs:
              arg1: hello
              arg2:
                eval: .::prop2
            outputs:
              output1:
                type: string
              output2:
                type: integer
            implementation:
              primary:
                type: MyArtifact
                properties:
                  input: y
                file: myscript.sh
